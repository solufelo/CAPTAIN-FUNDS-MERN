# CAPTAIN-FUNDS Project Context

## 🚨 MANDATORY: Always Check Rules First!

Before making ANY code changes, ALWAYS reference:
1. **docs/AI-DEVELOPMENT-RULES.md** - Complete development guidelines
2. **docs/QUICK-REFERENCE.md** - Common patterns and commands
3. **Existing codebase** - Follow established patterns

## 🏗️ Project Architecture

### Tech Stack
- **Frontend**: React 18 + TypeScript + Vite
- **UI**: Ant Design + Tailwind CSS
- **State**: Zustand store management
- **Backend**: Node.js + Express.js
- **Database**: MongoDB Atlas + Mongoose
- **Auth**: JWT with dual storage (localStorage + cookies)

### Current Status (Phase 2)
- ✅ Authentication system complete
- ✅ Role-based navigation complete
- ✅ User interface foundation complete
- 🔄 Campaign management in progress
- 🔄 User profile functionality in progress

## 🔧 Key Patterns

### State Management
```typescript
import userStore from '../store/users-store'
const { currentUser, setCurrentUser, clearUser } = userStore()
```

### Authentication Check
```typescript
const token = Cookies.get('token') || localStorage.getItem('token')
if (!token) {
  navigate('/login')
  message.error('Please login to continue')
}
```

### Page Structure
```typescript
<div className="container mx-auto px-4 py-8">
  <Title level={1} className="flex items-center gap-3">
    <Icon />
    Page Title
  </Title>
  <Card>{/* Content */}</Card>
</div>
```

## 🚨 Critical Reminders

1. **TODO Lists**: Use for complex features (3+ steps)
2. **Error Handling**: Always implement try/catch with user feedback
3. **TypeScript**: Never use 'any' type
4. **Hooks**: Only call at component top-level
5. **Testing**: Verify changes work before completion
6. **File Structure**: Follow established patterns
7. **Routes**: Update App.tsx when adding new pages

## 📁 File Organization
- `client/src/pages/[feature]/index.tsx` - Page components
- `client/src/layout/` - Layout components
- `client/src/store/` - Zustand stores
- `server/routes/` - API endpoints
- `server/models/` - Database models

## 🎯 Current Priorities
1. Campaign management system
2. User profile functionality
3. Settings implementation
4. Donation system foundation

---
**Remember: Quality and consistency over speed!**
